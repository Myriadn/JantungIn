import{_ as le,d as a,k as i,e,h as g,g as C,v as I,B as ne,F as h,p as v,t as u,r as c,C as J,l as F,s as re,D as _,n as U,m as V,u as X,o as Z,x as $,E as ee}from"./index-Dy1_wJKI.js";import{F as de}from"./Footer-component-Jen5bCQl.js";import{I as ue,L as ce}from"./ImagePreloader-CF5kY67s.js";import{L as ge}from"./LazyImage-CTPPnyAo.js";import k from"./PatientService-B6JXPRBQ.js";const me={__name:"PatientSearchSelector",props:{modelValue:{type:Object,default:()=>({id:"",name:""})}},emits:["update:modelValue"],setup(z,{expose:l,emit:j}){l();const t=z,S=j,w=c(t.modelValue.id||""),o=c(t.modelValue.name||""),m=c(""),N=c(!1),E=c(!1),R=c(!1),f=c([]),T=c([]);J(()=>t.modelValue,n=>{w.value=n.id||"",o.value=n.name||""},{deep:!0}),J([w,o],()=>{S("update:modelValue",{id:w.value,name:o.value})},{deep:!0});const D=()=>{N.value=!0,m.value="",f.value=[],R.value=!0,P(),setTimeout(()=>{R.value=!1},500),setTimeout(()=>{document.querySelector('input[ref="searchInputRef"]')&&document.querySelector('input[ref="searchInputRef"]').focus()},100)},P=()=>{try{const n=localStorage.getItem("jantungin_recent_patients");n?T.value=JSON.parse(n):T.value=[]}catch(n){console.error("Error loading recent patients:",n),T.value=[]}},A=()=>{N.value=!1},O=async()=>{if(m.value){if(m.value.trim().length<3){alert("Mohon masukkan minimal 3 karakter untuk pencarian");return}try{E.value=!0,console.log("Searching for patients with query:",m.value);const n=k.searchCachedPatients(m.value);if(n.length>0){console.log("Found patients in cache:",n.length),f.value=n,E.value=!1;return}const r=await k.searchPatients(m.value);r&&Array.isArray(r)?(console.log("Patient search results from API:",r.length),f.value=r,r.length>0&&k.cachePatients(r)):(console.warn("Invalid search results format:",r),f.value=[],alert("Format data pasien tidak valid. Silakan coba lagi."))}catch(n){if(console.error("Error searching for patient:",n),n.isNetworkError){alert("Tidak dapat terhubung ke server. Menggunakan data cache jika tersedia.");const r=k.searchCachedPatients(m.value);r.length>0&&(console.log("Using cached results due to network error:",r.length),f.value=r)}else n.status===401||n.status===403?alert("Sesi Anda telah berakhir atau tidak memiliki akses. Silakan login kembali."):alert("Terjadi kesalahan saat mencari pasien. Silakan coba lagi.");f.value.length===0&&(f.value=[])}finally{E.value=!1}}},B=n=>{w.value=n.id,o.value=n.name,y(n),A()},y=n=>{try{let r=[];const M=localStorage.getItem("jantungin_recent_patients");M&&(r=JSON.parse(M));const L=r.findIndex(q=>q.id===n.id);L>=0&&r.splice(L,1),r.unshift({id:n.id,name:n.name,timestamp:new Date().toISOString()}),r.length>10&&(r=r.slice(0,10)),localStorage.setItem("jantungin_recent_patients",JSON.stringify(r))}catch(r){console.error("Error saving recent patient:",r)}},H={props:t,emit:S,patientId:w,patientName:o,searchQuery:m,showModal:N,isSearching:E,initialLoading:R,patients:f,recentPatients:T,openModal:D,loadRecentPatients:P,closeModal:A,searchPatient:O,selectPatient:B,saveToRecentPatients:y,ref:c,watch:J,get patientService(){return k}};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}},pe={class:"relative"},be={key:0,class:"fixed inset-0 z-50 overflow-y-auto flex items-center justify-center p-4 bg-black/50"},fe={class:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6"},he={class:"mb-4"},ve={class:"flex"},xe=["disabled"],we={key:0,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ye={key:1},ke={class:"max-h-64 overflow-y-auto"},Se={key:0,class:"text-center py-10"},Pe={key:1,class:"mb-4"},Fe=["onClick"],_e={class:"font-medium text-gray-900"},Ce={class:"text-sm text-gray-500 flex justify-between"},Ie={key:2,class:"text-center py-4 text-gray-500"},De={key:3},Ve={class:"text-sm font-medium text-gray-700 px-3 py-2 bg-gray-100"},je=["onClick"],Ne={class:"font-medium text-gray-900"},Ee={class:"text-sm text-gray-500"};function Te(z,l,j,t,S,w){return i(),a("div",null,[e("div",pe,[g(e("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>t.patientName=o),type:"text",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Klik untuk mencari pasien...",readonly:"",onClick:t.openModal},null,512),[[I,t.patientName]]),e("button",{onClick:t.openModal,type:"button",class:"absolute right-2 top-2.5 bg-blue-500 p-1 rounded text-white hover:bg-blue-600"},l[3]||(l[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))]),g(e("input",{type:"hidden","onUpdate:modelValue":l[1]||(l[1]=o=>t.patientId=o)},null,512),[[I,t.patientId]]),t.showModal?(i(),a("div",be,[e("div",fe,[e("div",{class:"flex justify-between items-center mb-4"},[l[5]||(l[5]=e("h3",{class:"text-xl font-medium text-gray-900"},"Select Patient",-1)),e("button",{onClick:t.closeModal,class:"text-gray-500 hover:text-gray-800"},l[4]||(l[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",he,[e("div",ve,[g(e("input",{"onUpdate:modelValue":l[2]||(l[2]=o=>t.searchQuery=o),type:"text",ref:"searchInputRef",placeholder:"Cari pasien berdasarkan nama atau NIK",class:"flex-1 border border-gray-300 px-4 py-2 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-blue-300",onKeyup:ne(t.searchPatient,["enter"])},null,544),[[I,t.searchQuery]]),e("button",{onClick:t.searchPatient,class:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600",disabled:t.isSearching},[t.isSearching?(i(),a("svg",we,l[6]||(l[6]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(i(),a("span",ye,"Cari"))],8,xe)])]),e("div",ke,[t.initialLoading?(i(),a("div",Se,l[7]||(l[7]=[e("svg",{class:"animate-spin h-8 w-8 text-blue-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-gray-600"},"Loading patient data...",-1)]))):t.recentPatients.length>0&&t.patients.length===0?(i(),a("div",Pe,[l[8]||(l[8]=e("h4",{class:"text-sm font-medium text-gray-700 px-3 py-2 bg-gray-100"},"Pasien Terakhir",-1)),(i(!0),a(h,null,v(t.recentPatients,o=>(i(),a("div",{key:o.id,onClick:m=>t.selectPatient(o),class:"border-b border-gray-200 last:border-0 p-3 hover:bg-blue-50 cursor-pointer"},[e("div",_e,u(o.name),1),e("div",Ce,[e("span",null,"ID: "+u(o.id),1)])],8,Fe))),128))])):t.patients.length===0&&!t.recentPatients.length&&!t.initialLoading?(i(),a("div",Ie," No patients found. Try a different search term. ")):t.patients.length>0?(i(),a("div",De,[e("h4",Ve," Hasil Pencarian ("+u(t.patients.length)+" pasien) ",1),(i(!0),a(h,null,v(t.patients,o=>(i(),a("div",{key:o.id,onClick:m=>t.selectPatient(o),class:"border-b border-gray-200 last:border-0 p-3 hover:bg-blue-50 cursor-pointer"},[e("div",Ne,u(o.name),1),e("div",Ee,"ID: "+u(o.id),1)],8,je))),128))])):C("",!0)])])])):C("",!0)])}const Ae=le(me,[["render",Te],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/components/PatientSearchSelector.vue"]]),te=3,Re=Object.assign({name:"DiagnosePageAdmin"},{__name:"DiagnoseAdminPage",setup(z,{expose:l}){l();const j=X(),t=c({patientName:"",patientId:"",age:"",sex:"",cp:"",trestbps:"",chol:"",fbs:"",restecg:"",thalach:"",exang:"",oldpeak:"",slope:"",ca:"",thal:""}),S=c({id:"",name:""}),w=[{text:"Female",value:"0"},{text:"Male",value:"1"}],o=[{text:"Typical Angina",value:"0"},{text:"Atypical Angina",value:"1"},{text:"Non-anginal Pain",value:"2"},{text:"Asymptomatic",value:"3"}],m=[{text:"Upsloping",value:"0"},{text:"Flat",value:"1"},{text:"Downsloping",value:"2"}],N=[{text:"Normal",value:"0"},{text:"ST-T Wave Abnormality",value:"1"},{text:"Left Ventricular Hypertrophy",value:"2"}],E=[{text:"0",value:"0"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"}],R=[{text:"No (< 120 mg/dl)",value:"0"},{text:"Yes (> 120 mg/dl)",value:"1"}],f=[{text:"Normal",value:"1"},{text:"Fixed Defect",value:"2"},{text:"Reversible Defect",value:"3"}],T=[{text:"No",value:"0"},{text:"Yes",value:"1"}],D=c(1),P=c(!1),A=c(null),O=c(null),B=c(!1),y=c(null),H=s=>{console.log("Patient selected:",s),s&&s.id&&(t.value.patientName=s.name,t.value.patientId=s.id,S.value={id:s.id||"",name:s.name||""},n(s.id))},n=async s=>{try{const d=await k.getPatientById(s);console.log("Fetched patient details:",d)}catch(d){console.error("Error fetching patient details:",d)}},r=async()=>{try{if(!K()){alert("Please fill in all required fields");return}P.value=!0,B.value=!0;const s={age:parseFloat(t.value.age),sex:parseFloat(t.value.sex),cp:parseFloat(t.value.cp),trestbps:parseFloat(t.value.trestbps),chol:parseFloat(t.value.chol),fbs:parseFloat(t.value.fbs),restecg:parseFloat(t.value.restecg),thalach:parseFloat(t.value.thalach),exang:parseFloat(t.value.exang),oldpeak:parseFloat(t.value.oldpeak),slope:parseFloat(t.value.slope),ca:parseFloat(t.value.ca),thal:parseFloat(t.value.thal)},d={id:t.value.patientId,name:t.value.patientName||"Unknown"},p={patientId:t.value.patientId,age:s.age,sex:s.sex===1?"Male":"Female",chestPainType:M(s.cp),restingBloodPressure:s.trestbps,serumCholesterol:s.chol,fastingBloodSugar:s.fbs===1?120:80,restingEcgResults:L(s.restecg),maximumHeartRate:s.thalach,exerciseInducedAngina:s.exang===1?"Yes":"No",stDepression:s.oldpeak,stSegment:q(s.slope),majorVessels:parseInt(s.ca),thalassemia:G(s.thal)};console.log(`Processing diagnosis for patient: ${d.name} (ID: ${d.id})`),console.log("API form data with field validation:"),Object.entries(p).forEach(([b,x])=>{console.log(`${b}: ${x} (${typeof x})`)}),console.log("Diagnosis form submitted to API:",p);try{console.log("About to submit diagnosis to service with data:",p);const b={...p};b.patientName&&delete b.patientName;const x=await ee.submitDiagnosis(b);console.log("Diagnosis API response:",x),O.value=x.resultPercentage?x.resultPercentage.toFixed(2):"0.00",y.value=x.id;const W=parseFloat(O.value);A.value=W>=50?"high":"low",console.log(`Diagnosis result: ${W}% risk, category: ${A.value}, ID: ${y.value}`),x&&x.id&&(await $.cacheHistoryForOffline([x]),console.log("Diagnosis saved to history cache"))}catch(b){console.error("API error:",b),b.data&&b.data.message?alert(`Error: ${b.data.message}`):b.message?alert(`Error: ${b.message}`):alert("Error communicating with diagnosis service. Please try again."),P.value=!1,B.value=!1;return}P.value=!1}catch(s){console.error("Error submitting diagnosis:",s),P.value=!1,alert("An error occurred while processing your request. Please try again.")}};function M(s){const d=o.find(p=>p.value===s.toString());return d?d.text:"Unknown"}function L(s){const d=N.find(p=>p.value===s.toString());return d?d.text:"Unknown"}function q(s){const d=m.find(p=>p.value===s.toString());return d?d.text:"Unknown"}function G(s){const d=f.find(p=>p.value===s.toString());return d?d.text:"Unknown"}const K=()=>{if(!t.value.patientId)return alert("Please select a patient before proceeding"),!1;const s=["age","sex","cp","trestbps","chol","fbs","restecg","thalach","exang","oldpeak","slope","ca","thal"];for(const d of s)if(!t.value[d])return!1;return!0},oe=()=>{D.value<te&&(D.value++,window.scrollTo(0,0))},se=()=>{D.value>1&&(D.value--,window.scrollTo(0,0))},ae=()=>{y.value?(console.log(`Navigating to detailed report for diagnosis ID: ${y.value}`),j.push({path:"/result-admin",query:{id:y.value}})):(console.error("No diagnosis ID available for detailed report"),alert("Error: Diagnosis ID not found. Please try again."))},ie=s=>s===1?!!S.value.id&&!!t.value.age&&!!t.value.sex:s===2?!!t.value.cp&&!!t.value.trestbps&&!!t.value.chol&&!!t.value.fbs&&!!t.value.restecg&&!!t.value.thalach:s===3?!!t.value.exang&&!!t.value.oldpeak&&!!t.value.slope&&!!t.value.ca&&!!t.value.thal:!1,Q=async()=>{try{console.log("Prefetching patients data for offline use");const s=await k.getAllPatients(1,100);s&&s.length>0&&(k.cachePatients(s),console.log(`Prefetched and cached ${s.length} patients`))}catch(s){console.error("Error prefetching patients:",s)}};Z(()=>{Q()});const Y={router:j,diagnosisForm:t,selectedPatient:S,sexOptions:w,chestPainTypeOptions:o,stSlopeOptions:m,restingECGOptions:N,numberOfVesselsOptions:E,fastingBloodSugarOptions:R,thallassemiaOptions:f,yesNoOptions:T,currentStep:D,totalSteps:te,isLoading:P,predictionResult:A,resultPercentage:O,showResult:B,diagnosisId:y,updatePatientInfo:H,fetchPatientDetails:n,handleSubmit:r,getChestPainTypeText:M,getEcgResultsText:L,getStSlopeText:q,getThalassemiaText:G,validateForm:K,nextStep:oe,prevStep:se,viewDetailedReport:ae,isStepComplete:ie,prefetchPatients:Q,ref:c,onMounted:Z,get useRouter(){return X},FooterComponent:de,LazyBackground:ce,LazyImage:ge,ImagePreloader:ue,PatientSearchSelector:Ae,get diagnosisService(){return ee},get historyService(){return $},get patientService(){return k}};return Object.defineProperty(Y,"__isScriptSetup",{enumerable:!1,value:!0}),Y}}),Oe={class:"diagnose-page mt-16"},Be={class:"relative"},Me={class:"bg-gradient-to-b from-blue-700 to-indigo-900 py-10 px-4 min-h-screen"},Le={class:"max-w-4xl mx-auto"},Ue={class:"mb-8"},ze={class:"flex justify-between items-center w-full mb-4"},He={key:0},qe={key:1},Je={class:"mt-2 text-center text-white text-sm"},Ge={key:0},Ke={key:1},Qe={key:2},Ye={class:"relative h-2 bg-white/20 rounded-full overflow-hidden"},We={class:"bg-white/10 backdrop-blur-md rounded-2xl shadow-xl overflow-hidden"},Xe={key:0,class:"p-6 md:p-8"},Ze={class:"space-y-5"},$e={key:0,class:"mt-2 p-3 bg-white/10 rounded-lg border border-white/20"},et={class:"text-white/80 text-sm mt-1"},tt={class:"font-semibold text-white"},lt={class:"text-white/80 text-sm mt-1"},ot={class:"font-semibold text-white"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at=["value"],it={class:"mt-8 flex justify-end"},nt=["disabled"],rt={key:1,class:"p-6 md:p-8"},dt={class:"space-y-5"},ut=["value"],ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mt=["value"],pt=["value"],bt={class:"mt-8 flex justify-between"},ft=["disabled"],ht={key:2,class:"p-6 md:p-8"},vt={class:"space-y-5"},xt=["value"],wt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt=["value"],kt=["value"],St=["value"],Pt={class:"mt-8 flex justify-between"},Ft=["disabled"],_t={key:0,class:"mt-10"},Ct={key:0,class:"text-center py-10"},It={key:1,class:"bg-white/10 backdrop-blur-md rounded-2xl shadow-xl overflow-hidden p-6 md:p-8"},Dt={class:"flex flex-col items-center justify-center text-center"},Vt={class:"text-3xl font-bold text-white mb-2"},jt={class:"text-white/80 mb-6"},Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-md"},Et={class:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-4"};function Tt(z,l,j,t,S,w){return i(),a("div",Oe,[F(t.ImagePreloader,{images:["/images/picu.jpg","https://images.unsplash.com/photo-1583324113626-70df0f4deaab?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1518893494013-481c1d8ed3fd?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1511174511562-5f7f18b874f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1505751172876-fa1923c5c528?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80"]}),e("section",Be,[F(t.LazyBackground,{class:"absolute inset-0",src:"/images/picu.jpg",placeholder:"/images/loading-placeholder.svg",style:{filter:"brightness(0.4)"}}),l[15]||(l[15]=e("div",{class:"relative z-10 py-20 px-4 text-center"},[e("h1",{class:"text-4xl md:text-5xl font-bold text-white mb-4"},"Cardiovascular Diagnosis"),e("p",{class:"text-xl text-blue-100 max-w-3xl mx-auto"}," Complete the form below to assess cardiovascular health risk factors ")],-1))]),e("div",Me,[e("div",Le,[e("div",Ue,[e("div",ze,[(i(),a(h,null,v(t.totalSteps,o=>e("div",{key:o,class:"flex flex-col items-center w-1/3"},[e("div",{class:U(`h-12 w-12 rounded-full flex items-center justify-center text-lg font-bold border-2 ${t.currentStep===o?"bg-blue-500 text-white border-white":t.currentStep>o||t.isStepComplete(o)?"bg-green-500 text-white border-white":"bg-white/20 text-white/70 border-white/50"}`)},[t.currentStep>o||t.isStepComplete(o)?(i(),a("span",He,"âœ“")):(i(),a("span",qe,u(o),1))],2),e("div",Je,[o===1?(i(),a("span",Ge,"Patient Info")):o===2?(i(),a("span",Ke,"Vital Signs")):o===3?(i(),a("span",Qe,"Cardiac Data")):C("",!0)])])),64))]),e("div",Ye,[e("div",{class:"absolute top-0 left-0 h-full bg-blue-500 transition-all duration-300",style:re(`width: ${(t.currentStep-1)/(t.totalSteps-1)*100}%`)},null,4)])]),e("div",We,[t.currentStep===1?(i(),a("div",Xe,[l[24]||(l[24]=e("h2",{class:"text-2xl font-bold text-white mb-6"},"Patient Information",-1)),e("div",Ze,[e("div",null,[l[19]||(l[19]=e("label",{class:"block text-white mb-2",for:"patientName"},"Patient Information",-1)),F(t.PatientSearchSelector,{modelValue:t.selectedPatient,"onUpdate:modelValue":[l[0]||(l[0]=o=>t.selectedPatient=o),t.updatePatientInfo]},null,8,["modelValue"]),t.diagnosisForm.patientId?(i(),a("div",$e,[l[18]||(l[18]=e("div",{class:"text-white/80 text-sm"},[e("span",{class:"font-semibold text-white"},"Selected Patient:")],-1)),e("div",et,[l[16]||(l[16]=e("span",{class:"inline-block w-24"},"Patient ID:",-1)),e("span",tt,u(t.diagnosisForm.patientId),1)]),e("div",lt,[l[17]||(l[17]=e("span",{class:"inline-block w-24"},"Name:",-1)),e("span",ot,u(t.diagnosisForm.patientName),1)])])):C("",!0)]),e("div",st,[e("div",null,[l[20]||(l[20]=e("label",{class:"block text-white mb-2",for:"age"},"Age (years)",-1)),g(e("input",{id:"age","onUpdate:modelValue":l[1]||(l[1]=o=>t.diagnosisForm.age=o),type:"number",min:"1",max:"120",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Enter age"},null,512),[[I,t.diagnosisForm.age]])]),e("div",null,[l[22]||(l[22]=e("label",{class:"block text-white mb-2",for:"sex"},"Sex",-1)),g(e("select",{id:"sex","onUpdate:modelValue":l[2]||(l[2]=o=>t.diagnosisForm.sex=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[21]||(l[21]=e("option",{value:"",disabled:"",selected:""},"Select gender",-1)),(i(),a(h,null,v(t.sexOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,at)),64))],512),[[_,t.diagnosisForm.sex]])])])]),e("div",it,[e("button",{onClick:t.nextStep,class:U(["px-6 py-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-all duration-200 flex items-center",{"opacity-50 cursor-not-allowed":!t.isStepComplete(1)}]),disabled:!t.isStepComplete(1)},l[23]||(l[23]=[V(" Next Step "),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),10,nt)])])):C("",!0),t.currentStep===2?(i(),a("div",rt,[l[36]||(l[36]=e("h2",{class:"text-2xl font-bold text-white mb-6"},"Vital Signs & Baseline Measurements",-1)),e("div",dt,[e("div",null,[l[26]||(l[26]=e("label",{class:"block text-white mb-2",for:"chestPainType"},"Chest Pain Type",-1)),g(e("select",{id:"chestPainType","onUpdate:modelValue":l[3]||(l[3]=o=>t.diagnosisForm.cp=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[25]||(l[25]=e("option",{value:"",disabled:"",selected:""},"Select chest pain type",-1)),(i(),a(h,null,v(t.chestPainTypeOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,ut)),64))],512),[[_,t.diagnosisForm.cp]])]),e("div",ct,[e("div",null,[l[27]||(l[27]=e("label",{class:"block text-white mb-2",for:"bloodPressure"},"Resting Blood Pressure (mm Hg)",-1)),g(e("input",{id:"bloodPressure","onUpdate:modelValue":l[4]||(l[4]=o=>t.diagnosisForm.trestbps=o),type:"number",min:"80",max:"200",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Enter resting BP"},null,512),[[I,t.diagnosisForm.trestbps]])]),e("div",null,[l[28]||(l[28]=e("label",{class:"block text-white mb-2",for:"cholesterol"},"Serum Cholesterol (mg/dl)",-1)),g(e("input",{id:"cholesterol","onUpdate:modelValue":l[5]||(l[5]=o=>t.diagnosisForm.chol=o),type:"number",min:"100",max:"600",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Enter cholesterol level"},null,512),[[I,t.diagnosisForm.chol]])])]),e("div",gt,[e("div",null,[l[30]||(l[30]=e("label",{class:"block text-white mb-2",for:"fastingBloodSugar"},"Fasting Blood Sugar",-1)),g(e("select",{id:"fastingBloodSugar","onUpdate:modelValue":l[6]||(l[6]=o=>t.diagnosisForm.fbs=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[29]||(l[29]=e("option",{value:"",disabled:"",selected:""},"Select blood sugar status",-1)),(i(),a(h,null,v(t.fastingBloodSugarOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,mt)),64))],512),[[_,t.diagnosisForm.fbs]])]),e("div",null,[l[32]||(l[32]=e("label",{class:"block text-white mb-2",for:"restingEcg"},"Resting ECG Results",-1)),g(e("select",{id:"restingEcg","onUpdate:modelValue":l[7]||(l[7]=o=>t.diagnosisForm.restecg=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[31]||(l[31]=e("option",{value:"",disabled:"",selected:""},"Select ECG results",-1)),(i(),a(h,null,v(t.restingECGOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,pt)),64))],512),[[_,t.diagnosisForm.restecg]])])]),e("div",null,[l[33]||(l[33]=e("label",{class:"block text-white mb-2",for:"maxHeartRate"},"Maximum Heart Rate (bpm)",-1)),g(e("input",{id:"maxHeartRate","onUpdate:modelValue":l[8]||(l[8]=o=>t.diagnosisForm.thalach=o),type:"number",min:"60",max:"220",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Enter maximum heart rate"},null,512),[[I,t.diagnosisForm.thalach]])])]),e("div",bt,[e("button",{onClick:t.prevStep,class:"px-6 py-3 bg-gray-500 text-white rounded-lg shadow-lg hover:bg-gray-600 transition-all duration-200 flex items-center"},l[34]||(l[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),V(" Previous ")])),e("button",{onClick:t.nextStep,class:U(["px-6 py-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-all duration-200 flex items-center",{"opacity-50 cursor-not-allowed":!t.isStepComplete(2)}]),disabled:!t.isStepComplete(2)},l[35]||(l[35]=[V(" Next Step "),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),10,ft)])])):C("",!0),t.currentStep===3?(i(),a("div",ht,[l[48]||(l[48]=e("h2",{class:"text-2xl font-bold text-white mb-6"},"Additional Cardiac Data",-1)),e("div",vt,[e("div",null,[l[38]||(l[38]=e("label",{class:"block text-white mb-2",for:"exerciseAngina"},"Exercise Induced Angina",-1)),g(e("select",{id:"exerciseAngina","onUpdate:modelValue":l[9]||(l[9]=o=>t.diagnosisForm.exang=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[37]||(l[37]=e("option",{value:"",disabled:"",selected:""},"Select angina status",-1)),(i(),a(h,null,v(t.yesNoOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,xt)),64))],512),[[_,t.diagnosisForm.exang]])]),e("div",null,[l[39]||(l[39]=e("label",{class:"block text-white mb-2",for:"stDepression"},"ST Depression Induced by Exercise",-1)),g(e("input",{id:"stDepression","onUpdate:modelValue":l[10]||(l[10]=o=>t.diagnosisForm.oldpeak=o),type:"number",step:"0.1",min:"0",max:"10",class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Enter ST depression value"},null,512),[[I,t.diagnosisForm.oldpeak]])]),e("div",wt,[e("div",null,[l[41]||(l[41]=e("label",{class:"block text-white mb-2",for:"stSlope"},"ST Slope",-1)),g(e("select",{id:"stSlope","onUpdate:modelValue":l[11]||(l[11]=o=>t.diagnosisForm.slope=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[40]||(l[40]=e("option",{value:"",disabled:"",selected:""},"Select ST slope",-1)),(i(),a(h,null,v(t.stSlopeOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,yt)),64))],512),[[_,t.diagnosisForm.slope]])]),e("div",null,[l[43]||(l[43]=e("label",{class:"block text-white mb-2",for:"vessels"},"Number of Major Vessels",-1)),g(e("select",{id:"vessels","onUpdate:modelValue":l[12]||(l[12]=o=>t.diagnosisForm.ca=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[42]||(l[42]=e("option",{value:"",disabled:"",selected:""},"Select number of vessels",-1)),(i(),a(h,null,v(t.numberOfVesselsOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,kt)),64))],512),[[_,t.diagnosisForm.ca]])])]),e("div",null,[l[45]||(l[45]=e("label",{class:"block text-white mb-2",for:"thalassemia"},"Thalassemia",-1)),g(e("select",{id:"thalassemia","onUpdate:modelValue":l[13]||(l[13]=o=>t.diagnosisForm.thal=o),class:"w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},[l[44]||(l[44]=e("option",{value:"",disabled:"",selected:""},"Select thalassemia status",-1)),(i(),a(h,null,v(t.thallassemiaOptions,o=>e("option",{key:o.value,value:o.value},u(o.text),9,St)),64))],512),[[_,t.diagnosisForm.thal]])])]),e("div",Pt,[e("button",{onClick:t.prevStep,class:"px-6 py-3 bg-gray-500 text-white rounded-lg shadow-lg hover:bg-gray-600 transition-all duration-200 flex items-center"},l[46]||(l[46]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),V(" Previous ")])),e("button",{onClick:t.handleSubmit,class:U(["px-6 py-3 bg-green-600 text-white rounded-lg shadow-lg hover:bg-green-700 transition-all duration-200 flex items-center",{"opacity-50 cursor-not-allowed":!t.isStepComplete(3)}]),disabled:!t.isStepComplete(3)},l[47]||(l[47]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),V(" Submit Diagnosis ")]),10,Ft)])])):C("",!0)]),t.showResult?(i(),a("div",_t,[t.isLoading?(i(),a("div",Ct,l[49]||(l[49]=[e("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"},null,-1),e("p",{class:"mt-4 text-white text-lg"},"Analyzing patient data...",-1)]))):(i(),a("div",It,[e("div",Dt,[e("div",{class:U(`h-24 w-24 rounded-full flex items-center justify-center text-2xl
                ${t.predictionResult==="high"?"bg-red-500":"bg-green-500"} text-white mb-4`)},u(t.resultPercentage)+"% ",3),e("h2",Vt,u(t.predictionResult==="high"?"High Risk":"Low Risk"),1),e("p",jt,[l[50]||(l[50]=V(" Based on the patient's information and clinical data, the risk of cardiovascular disease is ")),e("strong",null,u(t.resultPercentage)+"%",1),l[51]||(l[51]=V(". "))]),e("div",Nt,[e("button",{onClick:t.viewDetailedReport,class:"px-5 py-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-all"}," View Detailed Report "),e("button",{onClick:l[14]||(l[14]=o=>(t.showResult=!1,t.currentStep=1)),class:"px-5 py-3 bg-gray-500 text-white rounded-lg shadow-lg hover:bg-gray-600 transition-all"}," Start New Diagnosis ")])])]))])):C("",!0),e("div",Et,[F(t.LazyImage,{src:"https://images.unsplash.com/photo-1583324113626-70df0f4deaab?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Hospital cardiac care",class:"rounded-lg shadow-lg w-full h-32 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),F(t.LazyImage,{src:"https://images.unsplash.com/photo-1518893494013-481c1d8ed3fd?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Hospital corridor",class:"rounded-lg shadow-lg w-full h-32 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),F(t.LazyImage,{src:"https://images.unsplash.com/photo-1511174511562-5f7f18b874f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Heart monitoring",class:"rounded-lg shadow-lg w-full h-32 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),F(t.LazyImage,{src:"https://images.unsplash.com/photo-1505751172876-fa1923c5c528?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Hospital reception",class:"rounded-lg shadow-lg w-full h-32 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"})])])]),F(t.FooterComponent)])}const Lt=le(Re,[["render",Tt],["__scopeId","data-v-290344af"],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/Page/Admin/DiagnoseAdminPage.vue"]]);export{Lt as default};
