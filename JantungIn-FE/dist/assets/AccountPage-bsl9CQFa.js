import{_ as V,r as v,c as A,o as D,j as C,A as I,i as N,a,d as n,b as e,s as b,n as x,t as i,y as T,f as c,g as E,F as $,x as R,h as r}from"./index-BCVPFfbO.js";import{F as O}from"./Footer-component-BsecC9Nr.js";/* empty css                                                                  */import{L as G,N as Y}from"./NetworkErrorComponent-DnD2sKFO.js";import{C as K}from"./ChatbotComponent-DYkyRUmi.js";/* empty css                                                                              */const W={class:"account-page"},q={class:"flex items-center"},J={key:0,class:"mr-3"},Q={key:1,class:"mr-3"},X={key:2,class:"mr-3"},Z={class:"font-medium"},ee={class:"relative bg-gradient-to-b from-blue-500 via-blue-600 to-indigo-700 min-h-screen overflow-hidden"},te={class:"container max-w-5xl mx-auto py-12 px-4 relative z-10"},oe={key:1,class:"mb-8 text-center"},se={class:"text-4xl font-bold text-white mb-2 tracking-tight"},le={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},re={class:"lg:col-span-1"},ae={class:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg overflow-hidden transform hover:translate-y-[-5px] transition-all duration-300"},ne={class:"relative"},ie={class:"relative z-10 p-6 text-center"},de={class:"relative inline-block mb-3"},ue={key:0,class:"h-24 w-24 rounded-full overflow-hidden border-4 border-white shadow-lg mx-auto"},ve=["src"],ce={key:1,class:"h-24 w-24 flex items-center justify-center bg-white rounded-full p-4 border-4 border-white shadow-lg mx-auto"},me={key:2,class:"absolute bottom-8 right-0 bg-white rounded-md shadow-lg overflow-hidden z-20 min-w-[180px]"},he={class:"py-1"},ge={class:"text-2xl font-bold text-white mb-1"},pe={class:"text-blue-100 text-sm"},we={class:"bg-white/10 backdrop-blur-sm px-6 py-3"},fe={class:"flex items-center justify-between text-white"},xe={class:"text-xs font-bold"},ke={class:"mt-2 h-1.5 bg-white/20 rounded-full overflow-hidden"},be={class:"p-6"},ye={class:"space-y-4"},_e={class:"health-status-card bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100"},Ce={class:"flex justify-between items-center mb-2"},Me={class:"health-badge"},je={class:"form-field"},Be={class:"form-field font-mono"},Le={class:"form-field text-blue-600"},ze={class:"form-field"},Se={class:"lg:col-span-2"},He={class:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg overflow-hidden mb-6 transform hover:translate-y-[-5px] transition-all duration-300"},Pe={class:"p-6"},Fe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ue={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ve={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ae={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},De={class:"mt-2"},Ie={class:"text-sm text-gray-500"},Ne={class:"text-xl font-bold text-gray-800"},Te={class:"mt-2 flex items-center"},Ee={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$e={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Re={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Oe=Object.assign({name:"AccountPage"},{__name:"AccountPage",setup(Ge){const k=N(),y=v(null),m=v(null),p=v(!0),h=v(null),s=v({name:"",nik:"",email:"",lastLogin:(()=>{const l=new Date,t=l.getHours().toString().padStart(2,"0"),o=l.getMinutes().toString().padStart(2,"0"),f=l.getDate(),F=(l.getMonth()+1).toString().padStart(2,"0"),U=l.getFullYear();return`${f}/${F}/${U}, ${t}.${o}`})(),healthStatus:"Good",profileCompleted:85}),M=A(()=>s.value.name!==""&&s.value.nik!==""),u=v(!1),g=v(""),d=v("success"),w=v(!1),j=()=>{w.value=!w.value},B=()=>{y.value.click(),w.value=!1},L=()=>{m.value=null,localStorage.removeItem("userPhotoUrl"),u.value=!0,g.value="Foto profil telah dihapus",d.value="info",setTimeout(()=>{u.value=!1},3e3),w.value=!1},z=l=>{const t=l.target.files[0];if(t&&t.type.match("image.*")){if(t.size>5*1024*1024){u.value=!0,g.value="File terlalu besar. Maksimal ukuran 5MB.",d.value="error",setTimeout(()=>{u.value=!1},3e3);return}const o=new FileReader;o.onload=f=>{m.value=f.target.result,s.value.profileCompleted<100&&(s.value.profileCompleted+=5,s.value.profileCompleted>100&&(s.value.profileCompleted=100)),localStorage.setItem("userPhotoUrl",m.value),u.value=!0,g.value="Foto profil berhasil diperbarui!",d.value="success",setTimeout(()=>{u.value=!1},3e3)},o.readAsDataURL(t)}else t&&(u.value=!0,g.value="Format file tidak didukung. Gunakan file gambar.",d.value="error",setTimeout(()=>{u.value=!1},3e3))};D(()=>{const l=localStorage.getItem("userPhotoUrl");l&&(m.value=l),_()});const _=async()=>{try{p.value=!0,h.value=null;const l=C.getCurrentUser();if(l){if(s.value={...s.value,name:l.name||"User",nik:l.nik||"",email:l.email||""},navigator.onLine){const t=await I.get("/api/v1/auth/profile"),o=t.data||t;o&&o.data&&(s.value={...s.value,name:o.data.name||s.value.name,email:o.data.email||s.value.email})}}else k.push("/")}catch(l){console.error("Error loading user data:",l),h.value={title:"Failed to load profile",message:l.message||"Could not load your profile data. Please try again."}}finally{p.value=!1}},S=()=>{try{C.logout(),u.value=!0,g.value="Logged out successfully",d.value="info",setTimeout(()=>{k.push("/")},1500)}catch(l){console.error("Logout error:",l),u.value=!0,g.value="Error during logout",d.value="error"}},H=()=>{k.push("/history")},P=v([{icon:"heart",label:"Heart Rate",value:"72 bpm",trend:"stable"},{icon:"pressure",label:"Blood Pressure",value:"120/80",trend:"improved"},{icon:"activity",label:"Activity",value:"6.2k steps",trend:"decreased"}]);return(l,t)=>(r(),a("div",W,[u.value?(r(),a("div",{key:0,class:x(["fixed top-6 right-6 z-50 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 transform translate-y-0 opacity-100",{"bg-green-100 border-l-4 border-green-500 text-green-700":d.value==="success","bg-red-100 border-l-4 border-red-500 text-red-700":d.value==="error","bg-blue-100 border-l-4 border-blue-500 text-blue-700":d.value==="info"}])},[e("div",q,[d.value==="success"?(r(),a("div",J,t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):n("",!0),d.value==="error"?(r(),a("div",Q,t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))):n("",!0),d.value==="info"?(r(),a("div",X,t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))):n("",!0),e("p",Z,i(g.value),1)])],2)):n("",!0),e("div",ee,[t[26]||(t[26]=e("div",{class:"absolute inset-0 z-0"},[e("div",{class:"floating-shape shape-1"}),e("div",{class:"floating-shape shape-2"}),e("div",{class:"floating-shape shape-3"})],-1)),e("div",te,[b(G,{"is-loading":p.value,message:"Loading your profile...","full-page":!1},null,8,["is-loading"]),h.value&&!p.value?(r(),T(Y,{key:0,title:h.value.title,message:h.value.message,"retry-action":_},null,8,["title","message"])):n("",!0),!p.value&&!h.value?(r(),a("div",oe,[t[3]||(t[3]=e("div",{class:"inline-block px-4 py-2 rounded-full bg-blue-500/20 backdrop-blur-sm border border-blue-400/20 text-blue-100 text-sm mb-4"}," User Profile ",-1)),e("h1",se," Welcome, "+i(s.value.name),1),t[4]||(t[4]=e("p",{class:"text-blue-100/80"},"Manage your account and view your health information",-1))])):n("",!0),!p.value&&!h.value&&M.value?(r(),a("div",le,[e("div",re,[e("div",ae,[e("div",ne,[t[10]||(t[10]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 opacity-90"},null,-1)),e("div",ie,[e("div",de,[m.value?(r(),a("div",ue,[e("img",{src:m.value,alt:"Profile Photo",class:"h-full w-full object-cover"},null,8,ve)])):(r(),a("div",ce,t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-14 w-14 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)]))),e("div",{class:"absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 p-1.5 rounded-full cursor-pointer border-2 border-white shadow-md transition-all duration-200 group",onClick:j},[t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("input",{type:"file",ref_key:"fileInput",ref:y,accept:"image/*",class:"hidden",onChange:z},null,544)]),w.value?(r(),a("div",me,[e("div",he,[e("button",{onClick:B,class:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c(" Upload Foto ")])),m.value?(r(),a("button",{key:0,onClick:L,class:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Hapus Foto ")]))):n("",!0)])])):n("",!0)]),e("h2",ge,i(s.value.name),1),e("p",pe," Member since "+i(s.value.lastLogin.split(",")[0]),1)]),e("div",we,[e("div",fe,[t[9]||(t[9]=e("span",{class:"text-xs font-medium"},"Profile completed",-1)),e("span",xe,i(s.value.profileCompleted)+"%",1)]),e("div",ke,[e("div",{class:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full",style:E({width:s.value.profileCompleted+"%"})},null,4)])])]),e("div",be,[e("div",ye,[e("div",_e,[e("div",Ce,[t[11]||(t[11]=e("h3",{class:"font-medium text-gray-700"},"Health Status",-1)),e("span",Me,i(s.value.healthStatus),1)]),t[12]||(t[12]=e("p",{class:"text-sm text-gray-500"}," Your health data is regularly monitored by our system ",-1))]),e("div",null,[t[13]||(t[13]=e("label",{class:"flex items-center text-gray-700 text-sm font-medium mb-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),c(" Full Name ")],-1)),e("div",je,i(s.value.name),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"flex items-center text-gray-700 text-sm font-medium mb-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})]),c(" NIK ")],-1)),e("div",Be,i(s.value.nik),1)]),e("div",null,[t[15]||(t[15]=e("label",{class:"flex items-center text-gray-700 text-sm font-medium mb-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),c(" Email ")],-1)),e("div",Le,i(s.value.email),1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"flex items-center text-gray-700 text-sm font-medium mb-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),c(" Last Login ")],-1)),e("div",ze,i(s.value.lastLogin),1)])]),e("div",{class:"mt-8"},[e("button",{onClick:S,class:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-5 rounded-md transition-all duration-200 flex items-center justify-center"},t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),c(" Logout ")]))])])])]),e("div",Se,[e("div",He,[t[25]||(t[25]=e("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-5"},[e("h3",{class:"text-xl font-bold text-white flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),c(" Health Snapshot ")])],-1)),e("div",Pe,[e("div",Fe,[(r(!0),a($,null,R(P.value,(o,f)=>(r(),a("div",{key:f,class:"health-data-card"},[e("div",{class:x(["health-data-icon","icon-"+o.icon])},[o.icon==="heart"?(r(),a("svg",Ue,t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]))):n("",!0),o.icon==="pressure"?(r(),a("svg",Ve,t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},null,-1)]))):n("",!0),o.icon==="activity"?(r(),a("svg",Ae,t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):n("",!0)],2),e("div",De,[e("div",Ie,i(o.label),1),e("div",Ne,i(o.value),1)]),e("div",Te,[e("span",{class:x(["trend-indicator","trend-"+o.trend])},[o.trend==="improved"?(r(),a("svg",Ee,t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"},null,-1)]))):n("",!0),o.trend==="decreased"?(r(),a("svg",$e,t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,-1)]))):n("",!0),o.trend==="stable"?(r(),a("svg",Re,t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14"},null,-1)]))):n("",!0)],2),e("span",{class:x(["text-xs ml-1",{"text-green-600":o.trend==="improved","text-red-600":o.trend==="decreased","text-gray-500":o.trend==="stable"}])},i(o.trend==="improved"?"Improved":o.trend==="decreased"?"Decreased":"Stable"),3)])]))),128))]),e("div",{class:"mt-6"},[e("button",{onClick:H,class:"view-history-btn"},t[24]||(t[24]=[c(" View Complete Health History "),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-1 transition-transform group-hover:translate-x-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])])])])):n("",!0)])]),b(O),b(K)]))}}),Xe=V(Oe,[["__scopeId","data-v-46913eba"]]);export{Xe as default};
