/* empty css                                                                  */import{_ as c,a as g,h as u,J as f,r as l,o as m}from"./index-CfZNBExt.js";const h={name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""},placeholder:{type:String,default:"/images/loading-placeholder.svg"},errorPlaceholder:{type:String,default:"/images/error-placeholder.svg"},threshold:{type:Number,default:.1},rootMargin:{type:String,default:"200px"},priority:{type:Boolean,default:!1},loadingClass:{type:String,default:""}},setup(e){const r=l(null),a=l(!1),t=l(!1);m(()=>{if(e.priority){n();return}if("IntersectionObserver"in window){const o=new IntersectionObserver(d=>{d.forEach(i=>{i.isIntersecting&&(n(),o.unobserve(r.value))})},{threshold:e.threshold,rootMargin:e.rootMargin});o.observe(r.value)}else n()});const n=()=>{const o=new Image;o.onload=()=>{a.value=!0},o.onerror=()=>{t.value=!0,r.value.src=e.errorPlaceholder},o.src=e.src};return{lazyImgRef:r,isLoaded:a,onLoad:()=>{r.value.src===e.src&&(a.value=!0)}}}},v=["src","alt"];function y(e,r,a,t,n,s){return u(),g("img",f({ref:"lazyImgRef",class:["lazy-image",{"fade-in":t.isLoaded},a.loadingClass],src:t.isLoaded?a.src:a.placeholder,alt:a.alt,onLoad:r[0]||(r[0]=(...o)=>t.onLoad&&t.onLoad(...o))},e.$attrs),null,16,v)}const _=c(h,[["render",y],["__scopeId","data-v-31a28d11"]]);export{_ as L};
